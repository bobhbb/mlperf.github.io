<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" href="mlperf_icon.png">
<title>LoadGen: LoadGen FAQ</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top" style="display:flex; flex-flow:row wrap; justify-content:flex-start; align-items:center;"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="display:flex; flex-flow:row wrap; justify-content:flex-start; align-items:center;">
  <a href="https://www.mlperf.org"><img alt="MLPerf" src="mlperf_logo_horizontal_color.svg"/ height="55px"></a>
  <div style="padding-left: 1em;">
    <div id="projectname"><a href="index.html">LoadGen Guide</a>
   </div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ReadmeFAQ.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LoadGen FAQ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Q: The LoadGen does not match the MLPerf specification. Who is right?</h2>
<p><b>A:</b> The MLPerf spec is <em>always</em> right. Please file a LoadGen bug so it may be resolved.</p>
<h2>Q: How can I file a bug?</h2>
<p><b>A:</b> On GitHub: <a href="https://github.com/mlperf/inference/issues/new">https://github.com/mlperf/inference/issues/new</a></p>
<h2>Q: Can I make local modifications to the LoadGen for submission?</h2>
<p><b>A:</b> No. To keep the playing field level, please upstream any local modificiations you need to make. Ideally upstream such changes behind a runtime flag or via an abstract interface the client can implement. This will help with testability.</p>
<h2>Q: Where can I find the results of a test?</h2>
<p><b>A:</b> By default, the loadgen will output an <em>mlperf_log_summary.txt</em> file that summarizes the target metrics and constraints of the test, along with other stats about the run.</p>
<p><em>Note:</em> LogSettings also has a flag to forward the results to stdout and there's an outstanding TODO to make this more programmable.</p>
<h2>Q: The reference implementation for &lt;<em>some_model</em>&gt; prints out results of its own. Are those for submission?</h2>
<p><b>A:</b> They are not. The LoadGen results are the ground truth for submission results since they will work even for systems that forgo the python bindings. If you notice a bug in the LoadGen's results, please file a bug or submit a patch.</p>
<h2>Q: I'm getting linker errors for LoadgenVersion definitions. Where is <em><a class="el" href="version__generated_8cc_source.html">version_generated.cc</a></em>?</h2>
<p><b>A:</b> If you have a custom build setup, make sure you run the <em><a class="el" href="version__generator_8py.html" title="A script run by the build to generate the version definitions expected at link time. ">version_generator.py</a></em> script, which will create the cc file you are looking for. The official build files that come with the LoadGen do this for you out of the box.</p>
<h2>Q: What is this <em><a class="el" href="version__generator_8py.html" title="A script run by the build to generate the version definitions expected at link time. ">version_generator.py</a></em> script?</h2>
<p><b>A:</b> The LoadGen records git stats (if available) and the SHA1 of all its source files (always) at build time for verification purposes. This is easy to circumvent, but try your best to run <em><a class="el" href="version__generator_8py.html" title="A script run by the build to generate the version definitions expected at link time. ">version_generator.py</a></em> correctly; ideally integrated with your build system if you have a custom build. The intention is more to help with debugging efforts and detect accidental version missmatches than to detect bad actors.</p>
<h2>Q: How do I view the <em>mlperf_log_trace.json</em> file?</h2>
<p><b>A:</b> This file uses the <a href="https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit">Trace Event Format</a> to record a timeline of all the threads involved. You can view the file by typing <a href="chrome://tracing">chrome://tracing</a> into Chrome's address bar and dragging the json file there. This file zips well and you can drag the zip file directly into <a href="chrome://tracing">chrome://tracing</a> too. Please include zipped traces (and the other logs) when filing bug reports.</p>
<h2>Q: What is the difference between the MultiStream and MultiStreamFree scenarios?</h2>
<p><b>A:</b> MultiStream corresponds to the official MLPerf scenario for submissions; it has a fixed query rate and allows only one outstanding query at a time. MultiStreamFree is implemented for evaluation purposes only; it sends queries as fast as possible and allows up to N outstanding queries at a time. You may want to use MultiStreamFree for development purposes since small improvements in performance will always be reflected in the results, whereas MultiStream's results will be quantized.</p>
<h2>Q: Why is the code littered with so many lambdas? My eyes hurt.</h2>
<p><b>A:</b> Lambdas are a convenient and efficient way to ship arbitrary data + deferred logic over to the logging thread without much boilerplate. Much of the loadgen is built on top of the logging utilities. Thus the lambdas. (Sorry about the eyes.)</p>
<h2>Q: What C++ version does the LoadGen target?</h2>
<p><b>A:</b> It currently targets and requires C++14. It should compile with recent versions of clang, gcc, and msvc.</p>
<h2>Q: What dependencies does the LoadGen code have?</h2>
<p><b>A:</b> The C++ code has no external dependencies. The loadgen itself, logging utilities, and unit test utilities are built solely on the C++ Standard Library. The python bindings, however, do require <a href="https://github.com/pybind/pybind11">pybind11</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <div style="flex-grow:1"></div>
      <div>
        Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a>
        1.8.13
      </div>
    </li>
  </ul>
</div>
</body>
</html>
